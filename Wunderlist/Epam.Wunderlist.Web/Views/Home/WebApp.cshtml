
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en" ng-app="webApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wunderlist</title>
    @Styles.Render("~/css/bootstrap")
    @Styles.Render("~/css/webapp")
    @Scripts.Render("~/script/modernizr")
</head>
<body>
    <div class="wrapper background" ng-controller="mainCtrl as main">
        <div id="sidebar">
            <div class="sidebar-inner">
                <div id="search-toolbar">
                    <a class="toggle-menu"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></a>
                    <input class="search-input" />
                    <a class="cancel-search"><span class="glyphicon glyphicon-remove hidden" aria-hidden="true"></span></a>
                    <a class="search"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
                </div>
                <div id="user-toolbar">
                    <div class="user-dropdown">
                        <a class="user dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="user-avatar"><img src="~/Content/imgs/av_demo.png" /></span>
                            <span class="user-name" ng-bind="user.UserName"></span>
                            <span class="user-arrow glyphicon glyphicon-chevron-down"></span>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                            <li class="dropdown-header">User menu</li>
                            <li role="separator" class="divider"></li>
                            <li><a ng-click="main.openUserModal()">User profile</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header" ng-bind="user.Email"></li>
                            <li><a href="javascript:document.getElementById('logoutForm').submit()">Выйти</a></li>
                        </ul>
                    </div>
                    <div class="user-actions">
                        <a><span class="glyphicon glyphicon-bell"></span></a>
                        <a><span class="glyphicon glyphicon-phone-alt"></span></a>
                    </div>
                </div>
                <div id="lists">
                    <ul class="list-collection"></ul>
                </div>
                <div class="sidebar-actions">
                    <a class="add-list">
                        <span class="glyphicon glyphicon-plus"></span>
                        <span>Создать список</span>
                    </a>
                </div>

            </div>
        </div>
        <div class="tasks">
            <div class="list-toolbar">
                <h3 class="title">Фильмы</h3>
                <div class="actionBar">
                    <a>
                        <span class="glyphicon glyphicon-user"></span>
                        <span>Поделиться</span>
                    </a>
                    <a>
                        <span class="glyphicon glyphicon-sort"></span>
                        <span>Сортировка</span>
                    </a>
                    <a>
                        <span class="glyphicon glyphicon-option-horizontal"></span>
                        <span>Еще</span>
                    </a>
                </div>
            </div>
            <div ng-view></div>

        </div>
    </div>

    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "hidden" }))
    {
        @Html.AntiForgeryToken()
    }



    @Scripts.Render("~/script/jquery")
    @Scripts.Render("~/script/jqueryval")
    @Scripts.Render("~/script/bootstrap")
    @Scripts.Render("~/script/angular")
    @Scripts.Render("~/script/webapp")
    <script>
        $(document).ready(function () {
            var $window = $(window),
                $sidebar = $('#sidebar');

            $(".toggle-menu").on("click", function (e) {
                $sidebar.toggleClass("collapsed");
                e.preventDefault;
            });
            function resize() {
                var width = $window.width();
                if (width < 768) {
                    $sidebar.addClass("collapsed");
                }
                else
                    $sidebar.removeClass("collapsed");
            }
            $window.load(resize);
            $window.resize(resize);

        })

    </script>
</body>
</html>
